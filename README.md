# yanMap
Small addon for Yandex API 2.1

Надстройка над Yandex API 2.1 Maps, которая позволяет удобнее использовать 
API карт. Для работы требуется jQuery. Умеет работать с выпадающем списком, у 
которого есть возможность сортировки по алфавиту, а один из элементов можно
перенести в начало списка. Выпадающий список работает с названиями населённых
пунктов, улиц и прочее. Благодаря которым появляется возможность быстрого 
перемещения по карте.
Возможно создавать новые метки, которые заполняются каким-то содержимом. Одну из
меток можно выделить, как "главную", "центральную" метку. Меткам можно задавать
свою собственную иконку...

Для подключения:

```
<script src="https://code.jquery.com/jquery-1.11.3.min.js" type="text/javascript"></script>
<script src="https://api-maps.yandex.ru/2.1/?lang=ru_RU" type="text/javascript"></script>
<script src="yanmap.v0.2.js"></script>
```
Доступные параметры

startGeoPoint
    Тип: Object
    Значение по-умолчанию: 
    
    {
        center: [54.865232, 37.207378], 
        zoom: 8
    }

    Описание: устанавливает центр карты
    Дочерние объекты:
        center
            Принимает массив с координатами [x, y] x - ширина, y - долгота
        zoom
            Принимает числовое значение от 1 до 16
        Пример использования
        startGeoPoint: {
            center: [54.865232, 37.207378], // [широта(x), долгота(y)] 
            zoom: 8 // zoom: зум(z)
        }
      
scrollZoom
    Тип: Boolean
    Значение по-умолчанию: true
    Описание: отключение/включения зума при скроллинге карты

placeMarks
    Тип: Object
    Значение по-умолчанию:[{ // 0
            coords: [54.865232, 37.207378], // [широта(x), долгота(y)]
            header: "Протвино",
            body: "г. Протвино, ул. Победы д 2<br />",
            footer: "Наш телефон: <a href='tel:+74993904417'>+7 (499) 390-4417</a><br />" +
                "Наша страничка: <a href='http://upmix.ru/'>http://upmix.ru/</a>",
            hint: "Компания по разработке веб-приложений"
        }, { // 1
            coords: [54.706446, 20.512042],
            header: "Калининград",
            body: "г. Калининград, ул. Канта д 1<br />",
            footer: "Кафедральный собор, где похоронен Иммануил Кант",
            hint: "Здесь был я!"
        }]
    Описание: позволяет задавать шаблон для балунов. Каждый из объектов, 
    я подразумеваю всё то, что находится между {}, должен всегда указываться внутри
    массив. То есть есть хотите вывести 3 балуна, то [{}, {}, {}]
    Дочерние объекты:
        coords
            Принимает массив с координатами [x, y] x - ширина, y - долгота
        header
            Принимает строковое значение для заголовка метки описания, можно 
            использовать html
        body
            Принимает строковое значение для тела метки описания, можно использовать
            html
        footer
            Принимает строковое значение для нижней части метки описания, можно 
            использовать html
        hint
            Принимает строковое значение для его установки в хинт (при наведение
            на метку появляется всплывающее окно)
        Пример использования
        
        placeMarks: [{
            coords: [54.706446, 20.512042],
            header: "Калининград",
            body: "г. Калининград, ул. Канта д 1<br />",
            footer: "Кафедральный собор, где похоронен Иммануил Кант",
            hint: "Здесь был я!"
        }]

select
    Тип: String
    Значение по-умолчанию: ""
    Описание: указывается class или id (".class", "#id") родительского элемента 
    выпадающего (<select></select>) списка и при выборе одного из option карта
    перейдёт в определённую точку. Данный параметр указывается в том случае,
    когда выпадающий список уже есть на странице и его создали вручную, а также
    при использование параметра fill 

fill
    Тип: Object
    Значение по-умолчанию: ""
    Описание: заполняется родительский тег выпадающего списка определённым
    пользователем шаблоном тега option, есть возможность сортировки по алфавиту
    и указания тега, который должен быть выше других по списку. Также есть 
    возможность исключить повторяющиеся элементы. Можно указывать
    тег option с value равному start и при его выборе совершается переход на 
    центральную точку карты.
    Дочерние объекты:
        element
            Принимает строкое значение, а именно тот, который мы хотим заполнить.
            Например, мы хотим заполнить <select id="select">, указываем, как значение
            "#select"
        items
            Шаблон, которым мы хотим заполнить выпадающий список
        unique
            Нужно ли исключить повторяющиеся элементы? Указываем true, иначе
            false или вообще не указывать
        sort
            Сортировка по алфавиту true/false
        move
            Нужно ли перемещать какой-то объект таким образом, чтобы он стал
            первым в списке? true/false
        setFirstElem
            Указываем шаблон для элемента, который хотим перенести наверх списка
        Примеры использования
        fill: { 
           element: "#city_change",
           items: [<xsl:apply-templates select="$dilers/lines" mode="city" />],
           unique: true,
           sort: true,
           move: true,
           setFirstElem: "<option>Москва</option>"
        }
icon
    Тип: Object
    Значение по-умолчанию: ""
    Описание: добавляет возможность устанавливать собственные иконки меток
    Дочерние объекты:
        iconLayout
            Тип иконки в большинстве случаев стоит использовать 'default#image'
        iconImageHref
            Путь до изображения
    Пример использования
        icon: {
            iconLayout: 'default#image',
            iconImageHref: '/templates/owers/images/label8.png',
        }
mainIcon
    Тип: Object
    Значение по-умолчанию: ""
    Описание: см. icon. Что указать метку, для которой мы хотим установить
    отдельное изображение. Для этого необходимо в админской панели установить
    утвердительное значение чек-бокса, который отдаёт либо 1, либо 0 (вкл/выкл)


Пример установки параметров:
В обязательном порядке необходимо "завернуть" нашу функции в 
"ymaps.ready(function () { });" так как того требует API 

ymaps.ready(function () {
    $("#map").yanMap({
        select: "#select",
        scrollZoom: false,
        fill : { 
            element: "#select",
            items: [
                "<option>Протвино</option>",
                "<option>Калининград</option>"
            ]
        }
    });
});







